(function(n){function i(t){n.chrome?.webview?.postMessage?n.chrome.webview.postMessage(t):console.error("[window.chrome.webview.postMessage] is not supported in this environment.")}function r(t,i){n.dispatchEvent(new Event(t,{detail:i}))}function s(){console.log("==== Welcome to The%c WinFormege %cProject ====","color: #fff;font-weight:bold;font-size:1.1em;text-shadow: #152173 0 0 3px;","");const n="font-size:0.8em;background: #35495e; padding: 4px; border-radius: 5px 0 0 5px; color: #fff",t="font-size:0.8em;background: #83b841; padding: 4px; border-radius: 0 5px 5px 0; color: #fff";console.log(o,n,t,"",n,t,"",n,t,"");console.log(`Copyrights (C) ${(new Date).getFullYear()} Xuanchen Lin all rights reserved.`)}function e(n){if(n.state!==undefined){const{state:t}=n,i=document.querySelector("html");t?r("windowactivated",{}):r("windowdeactivate",{});i?.classList.toggle("window--activated",t);i?.classList.toggle("window--deactivate",!t)}}function h(n){const{state:t}=n;if(t){r("windowstatechange",{state:t});const i=document.querySelector("html");i?.classList.toggle("window--maximized",t==="maximized");i?.classList.toggle("window--minimized",t==="minimized");i?.classList.toggle("window--fullscreen",t==="fullscreen")}}function c(n){const{x:t,y:i,width:u,height:f}=n;r("windowresize",{x:t,y:i,width:u,height:f})}function l(n){const{x:t,y:i,screenX:u,screenY:f}=n;r("windowmove",{x:t,y:i,screenX:u,screenY:f})}const f="app-command",t="{{FORMEDGE_MESSAGE_PASSCODE}}",o=`{{WINFORMEDGE_VERSION_INFO}}`;n.moveTo=(n,r)=>{i({passcode:t,message:"FormedgeWindowMoveTo",x:n,y:r})};n.resizeTo=(n,r)=>{i({passcode:t,message:"FormedgeWindowResizeTo",width:n,height:r})};n.moveBy=(n,r)=>{i({passcode:t,message:"FormedgeWindowMoveBy",dx:n,dy:r})};n.resizeBy=(n,r)=>{i({passcode:t,message:"FormedgeWindowResizeBy",dx:n,dy:r})};n.addEventListener("load",()=>{n.addEventListener("click",n=>{const r=n.button;if(r===0){let r=n.target;while(r&&!r.hasAttribute(f))r=r.parentElement;if(r){const n=r.getAttribute(f)?.toLowerCase();i({passcode:t,message:"FormedgeWindowCommand",command:n})}}}),n.chrome?.webview?.addEventListener&&n.chrome.webview.addEventListener("message",n=>{const{passcode:i,message:r}=n.data;if(i===t)switch(r){case"FormedgeNotifyWindowStateChange":h(n.data);break;case"FormedgeNotifyWindowResize":c(n.data);break;case"FormedgeNotifyWindowMove":l(n.data);break;case"FormedgeNotifyWindowActivated":e(n.data)}}),e({passcode:t,message:"FormedgeNotifyWindowActivated",state:!0}),s()});const u={minimize:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Minimize()}},maximize:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Maximize()}},restore:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Restore()}},fullscreen:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Fullscreen()}},toggleFullscreen:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.ToggleFullscreen()}},close:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Close()}},activate:async()=>{if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;await t.Activate()}}};Object.defineProperty(u,"activated",{async get(){if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;return await t.Activated}}});Object.defineProperty(u,"hasTitleBar",{async get(){if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;return await t.HasTitleBar}}});Object.defineProperty(u,"windowState",{async get(){if(n.chrome?.webview?.hostObjects?.hostWindow){var t=n.chrome?.webview?.hostObjects?.hostWindow;return await t.WindowState}}});n.hostWindow=u})(window);